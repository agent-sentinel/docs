---
title: "Quickstart"
description: "Instrument your agent in minutes, with local-first logs and optional platform sync."
---

## What youâ€™ll build

In ~10 minutes you will:

- Instrument a function with `@guarded_action`
- Produce a local JSONL ledger at `.agent-sentinel/ledger.jsonl`
- (Optional) Self-host the platform + create an API key + enable remote sync

<Info>
  **Requirements**:
  - Python **3.12+**
  - Your agent functions already estimate or know per-call cost (USD) for `cost_usd`
</Info>

## Step 1: Install the SDK

```bash
pip install agent-sentinel
```

To enable remote sync (platform uploads), install with:

```bash
pip install "agent-sentinel[remote]"
```

## Step 2: Instrument an action

```python
from agent_sentinel import guarded_action

@guarded_action(name="search_web", cost_usd=0.02, tags=["tool", "search"])
def search_web(query: str) -> dict:
    # Your tool call here
    return {"query": query, "results": ["..."]}

search_web("agent sentinel quickstart")
```

## Step 3: Inspect the local ledger

By default, Agent Sentinel appends JSON Lines to:

```text
.agent-sentinel/ledger.jsonl
```

Each line is a full JSON object with action metadata:

```json
{
  "id": "uuid",
  "timestamp": "2025-01-15T10:30:00.123456Z",
  "action": "search_web",
  "cost_usd": 0.02,
  "duration_ms": 12.3,
  "outcome": "success",
  "tags": ["tool", "search"],
  "payload": {
    "inputs": {"args": [], "kwargs": {"query": "agent sentinel quickstart"}},
    "outputs": {"query": "agent sentinel quickstart", "results": ["..."]}
  }
}
```

<Tip>
  Need to change the ledger directory? Set `AGENT_SENTINEL_HOME` (see <a href="/concepts/ledger">Ledger</a>).
</Tip>

## Optional: Self-host the platform + enable remote sync

### 1) Start the platform

Follow the full guide at <a href="/platform/self-hosting">Self-hosting</a>.

At a high level:

- Create `platform/.env` with the required variables (superuser, DB, secret key).
- Run:

```bash
cd platform
docker compose up -d
```

Your API will be on `http://localhost:8000` (local dev override).

### 2) Create an API key (recommended)

1. Get a JWT access token:

```bash
curl -sS -X POST "http://localhost:8000/api/v1/login/access-token" \
  -H "Content-Type: application/x-www-form-urlencoded" \
  -d "username=admin@example.com" \
  -d "password=YOUR_PASSWORD"
```

2. Create an API key (shown only once):

```bash
curl -sS -X POST "http://localhost:8000/api/v1/api-keys/" \
  -H "Authorization: Bearer YOUR_JWT" \
  -H "Content-Type: application/json" \
  -d '{"name":"local-dev-agent","is_active":true}'
```

### 3) Enable SDK remote sync

```python
from agent_sentinel import enable_remote_sync, flush_and_stop

sync = enable_remote_sync(
    platform_url="http://localhost:8000",
    api_token="as_...YOUR_API_KEY...",
    flush_interval=10.0,
)

# ... run your agent ...

flush_and_stop()
```

<Note>
  The SDK sends `Authorization: Bearer <token>`; the platform accepts **either** a JWT or an API key for ingestion.
</Note>
